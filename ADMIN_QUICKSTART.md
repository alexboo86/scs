# Быстрый старт админ-панели

## Доступ к админ-панели

Откройте в браузере:
```
http://localhost:8001/api/admin/
```

## Основные функции

### 1. Управление пользователями
- **Просмотр**: Список всех пользователей с информацией
- **Добавление**: Кнопка "+ Добавить пользователя"
- **Удаление**: Кнопка "Удалить" рядом с каждым пользователем

### 2. Загрузка документов
- Перейдите на вкладку "Загрузка"
- Выберите файл (PDF, PPT, PPTX)
- Укажите название (опционально)
- Нажмите "Загрузить"
- **Сохраните Access Token** - он понадобится для предоставления доступа

### 3. Управление доступами
- Перейдите на вкладку "Доступы"
- Выберите документ из списка
- Введите email пользователей (по одному на строку)
- Нажмите "Предоставить доступ"
- Просмотрите список пользователей с доступом
- Отзовите доступ при необходимости

### 4. Просмотр документов
- Перейдите на вкладку "Документы"
- Список всех загруженных документов
- Кнопка "Открыть" для просмотра в viewer

## Пример рабочего процесса

1. **Создайте пользователя:**
   - Вкладка "Пользователи" → "+ Добавить пользователя"
   - Email: `student@school.com`
   - Имя: `Студент`

2. **Загрузите документ:**
   - Вкладка "Загрузка" → Выберите PDF → Загрузить
   - Сохраните Access Token из результата

3. **Предоставьте доступ:**
   - Вкладка "Доступы" → Выберите документ
   - Введите email: `student@school.com`
   - Нажмите "Предоставить доступ"

4. **Протестируйте viewer:**
   - Используйте Access Token для создания viewer token через API
   - Или откройте документ через кнопку "Открыть" в списке документов

## API для интеграции

Все действия можно выполнять через API (см. `/docs`):
- `GET /api/users/` - Список пользователей
- `POST /api/users/` - Создание пользователя
- `GET /api/documents/` - Список документов
- `POST /api/documents/upload` - Загрузка документа
- `POST /api/admin/documents/{id}/access` - Предоставление доступа

## Troubleshooting

### Админ-панель не открывается
- Проверьте что контейнер запущен: `docker-compose ps`
- Проверьте логи: `docker-compose logs backend`
- Убедитесь что шаблоны доступны: файл `frontend/templates/admin.html` существует

### Ошибка загрузки документа
- Проверьте формат файла (только PDF, PPT, PPTX)
- Проверьте размер файла (максимум 50MB)
- Проверьте логи: `docker-compose logs backend`

### Пользователь не может получить доступ
- Убедитесь что пользователь создан
- Убедитесь что доступ предоставлен через админ-панель
- Проверьте email пользователя (должен совпадать точно)
